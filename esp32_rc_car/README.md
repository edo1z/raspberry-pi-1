# ESP32 RC Car Project

ESP32を使った4輪駆動ラジコンカーのプロジェクト。

## 概要

既存のRCカーシャーシを活用し、ESP32でWi-Fi経由で操作できるラジコンカーを作成する。
3Dプリントした2階床板にESP32、モータードライバ、電池ボックスを搭載。

## 使用部品

| 部品 | 型番/サイズ | 数量 | 備考 |
|------|-------------|------|------|
| マイコン | ESP32 DevKit | 1 | 57mm x 28mm |
| モータードライバ | L298N | 1 | 43mm x 43mm、穴間隔41mm |
| DCモーター | TT Motor (黄色ギアボックス) | 4 | 20mm x 65mm |
| 電池ボックス | 単3×4本用 | 1 | 68mm x 68mm |
| タイヤ | 付属品 | 4 | 75mm x 30mm スペース必要 |
| シャーシ | XiaoR GEEK | 1 | 150mm x 250mm |
| 六角スペーサー | M3 | 4 | 2階床板固定用 |

## 配線

### ESP32 ↔ L298N モータードライバ

```
ESP32          L298N
-----          -----
GPIO 27   -->  IN1 (左モーター Forward)
GPIO 26   -->  IN2 (左モーター Backward)
GPIO 25   -->  IN3 (右モーター Forward)
GPIO 33   -->  IN4 (右モーター Backward)
GPIO 14   -->  ENA (左モーター PWM速度制御)
GPIO 12   -->  ENB (右モーター PWM速度制御)
GND       -->  GND
```

### L298N ↔ モーター

```
L298N          モーター
-----          -------
OUT1, OUT2 --> 左側モーター2個 (並列接続)
OUT3, OUT4 --> 右側モーター2個 (並列接続)
```

### 電源

```
電池ボックス (6V = 単3×4本)
  |
  +--> L298N 12V入力 (実際は6Vでも動作)
  |
  +--> L298N 5V出力 --> ESP32 VIN
```

**注意**: L298Nの5Vレギュレータを使用してESP32に給電。
ジャンパーピンが刺さっていることを確認。

## 3Dプリント部品

### 2階床板 (FloorPlate)

**サイズ**: 180mm x 80mm x 5mm

**配置** (X方向、中心=0):
```
-90mm        -76mm    -57mm  -38mm  -22mm   0   +22mm     +56mm      +90mm
 |            |         |      |      |     |     |         |          |
左端       ESP32    配線穴  ﾓｰﾀｰDrv  長穴L  中央  長穴R    電池Box     右端
```

**含まれる機能**:
- ESP32ホルダー（壁2つ、縦向き配置）
- モータードライバ用M3穴（4つ、41mm間隔）
- 電池ボックスホルダー（4面、左壁に配線用30mm隙間）
- 配線用長穴（5mm x 60mm）
- スペーサー用長穴（3.5mm x 60mm × 2本、44mm間隔）
- ザグリ（右側長穴の周り、深さ3mm）
- ESP32ピン用穴（2本）

**Fusion 360スクリプト**: `fusion/FloorPlate.py`

## 進捗状況

- [x] ESP32の基本動作確認（Lチカ）
- [x] ESP32でモーター制御プログラム作成
- [ ] 2階床板の3Dプリント
- [ ] ESP32を電池駆動で車に搭載
- [ ] Wi-Fi通信の実装（Webコントローラー）

## ファイル構成

```
esp32_rc_car/
├── README.md              # このファイル
├── esp32_blink/           # Lチカテスト
│   └── esp32_blink.ino
├── esp32_motor_control/   # モーター制御テスト
│   └── esp32_motor_control.ino
├── esp32_wifi_rc_car/     # Wi-Fi RCカー本体
│   └── esp32_wifi_rc_car.ino
└── fusion/                # Fusion 360 3Dモデル
    ├── FloorPlate.py
    ├── FloorPlate.manifest
    └── MiddleFloor/       # 未使用
```

## 次のステップ

1. Fusion 360で床板を確認・調整
2. 3Dプリント
3. 部品を床板に取り付け
4. シャーシに六角スペーサーで固定
5. 配線
6. Wi-Fiコードをアップロードしてテスト
